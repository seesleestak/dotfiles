source ~/.vim/plugins.vim
source ~/.vim/mappings.vim
source ~/.vim/functions.vim

" Do not unload abandoned buffers
set hidden

" Allow backspace
set backspace=indent,eol,start

" Allow scrolling in normal mode
set mouse=n

" Auto reload if file changes outside of vim
set autoread

" Line numbers
set number
set relativenumber

" Disable beep
set noeb vb t_vb=

" Wrap
set nowrap
set linebreak

" Command line tab completion
set wildmenu

" Show a few lines of context around the cursor
set scrolloff=5

" Fixes ESC delay
set timeoutlen=1000 
set ttimeoutlen=0 

" Tab
set smarttab
set expandtab
set autoindent
set tabstop=2 shiftwidth=2 softtabstop=2

" Search
set incsearch

" Backup handling
set noswapfile
set undodir=~/.vim/undodir
set undofile

" Clipboard
set clipboard=unnamed,unnamedplus

" Show col,row at bottom
set ruler

" Don't polute home directory with viminfo
set viminfo+=n~/.vim/viminfo

" Disables automatic commenting on newline
autocmd FileType * setlocal formatoptions-=c formatoptions-=r formatoptions-=o

syntax enable
colorscheme nord

" Create Rg command for fzf
command! -bang -nargs=* Rg
  \ call fzf#vim#grep(
  \   'rg --column --line-number --no-heading --color=always --smart-case '.shellescape(<q-args>), 1,
  \   <bang>0 ? fzf#vim#with_preview('up:60%')
  \           : fzf#vim#with_preview('right:50%:hidden', '?'),
  \   <bang>0)

filetype plugin indent on
